var maxTradeItems=15,minTradeItems=1,maxPictureSizeMB=1,maxPictureWidthPX=1440,maxPicturesPerItem=10,errorMsgTimeout=4e3;$(document).ready((function(){document.querySelector("#tradeForm").style.display="initial";var e=document.querySelector("#itemsWrapper"),t=document.querySelector("#addItem"),r=document.querySelector("#removeItem");t.addEventListener("click",()=>{if(!(e.childElementCount>maxTradeItems-1)){e.childElementCount==maxTradeItems-1&&(t.disabled=!0);var a=e.childElementCount+1,d=document.createElement("div");d.classList.add("row"),d.classList.add("tradeItem"),d.id="tradeItem"+a;var i=document.createElement("div");i.classList.add("col"),d.appendChild(i);var s=document.createElement("h4");s.id="tradeItemHeader"+a,s.setAttribute("data-toggle","collapse"),s.setAttribute("data-target","#tradeItemForm"+a),s.setAttribute("aria-expanded","true"),s.setAttribute("aria-controls","tradeItemForm"+a),s.classList.add("itemHeader"),s.innerHTML="Item "+a,i.appendChild(s);var n=document.createElement("div");n.classList.add("collapse"),n.classList.add("show"),n.classList.add("multi-collapse"),n.id="tradeItemForm"+a;var l=document.createElement("div");l.classList.add("form-group");var c=document.createElement("label");c.setAttribute("for","makeModel"+a),c.innerHTML='Make, Model, and Color <span class="text-danger" role="none">*</span>';var m=document.createElement("input");m.setAttribute("type","text"),m.classList.add("form-control"),m.setAttribute("id","makeModel"+a),m.setAttribute("name","makeModel"+a),m.setAttribute("aria-describedby","makeModelHelp"+a),m.setAttribute("placeholder","E.g. EMPIRE AXE 2.0 Dust Black"),m.setAttribute("minlength","8"),m.required=!0;var o=document.createElement("small");o.setAttribute("id","makeModelHelp"+a),o.classList.add("form-text"),o.classList.add("text-muted"),o.innerHTML="",l.appendChild(c),l.appendChild(m),l.appendChild(o),n.appendChild(l);var u=document.createElement("div");u.classList.add("form-group");var p=document.createElement("label");p.setAttribute("for","qty"+a),p.innerHTML='Quantity <span class="text-danger" role="none">*</span>';var b=document.createElement("input");b.setAttribute("type","number"),b.classList.add("form-control"),b.setAttribute("id","qty"+a),b.setAttribute("name","qty"+a),b.setAttribute("aria-describedby","qtyHelp"),b.setAttribute("placeholder","E.g. 1"),b.setAttribute("min","1"),b.required=!0;var v=document.createElement("small");v.setAttribute("id","qtyHelp"+a),v.classList.add("form-text"),v.classList.add("text-muted"),v.innerHTML="How many of this item do you have?",u.appendChild(p),u.appendChild(b),u.appendChild(v),n.appendChild(u);var L=document.createElement("div");L.classList.add("form-group");var h=document.createElement("label");h.setAttribute("for","condition"+a),h.innerHTML='Condition <span class="text-danger" role="none">*</span>';var A=document.createElement("input");A.setAttribute("type","text"),A.classList.add("form-control"),A.setAttribute("id","condition"+a),A.setAttribute("name","condition"+a),A.setAttribute("aria-describedby","conditionHelp"),A.setAttribute("placeholder","E.g. Used"),A.setAttribute("minlength","4"),A.required=!0;var E=document.createElement("small");E.setAttribute("id","conditionHelp"+a),E.classList.add("form-text"),E.classList.add("text-muted"),E.innerHTML='If used please write "Used" and describe the visual and operational condition of the item(s). If brand new write "Brand New".',L.appendChild(h),L.appendChild(A),L.appendChild(E),n.appendChild(L);var x=document.createElement("div");x.classList.add("form-group");var M=document.createElement("label");M.setAttribute("for","upgradesMods"+a),M.innerHTML="Upgrades / Modifications (If Applicable)";var g=document.createElement("textarea");g.classList.add("form-control"),g.setAttribute("id","upgradesMods"+a),g.setAttribute("name","upgradesMods"+a),g.setAttribute("aria-describedby","upgradesModsHelp"),g.setAttribute("placeholder","E.g. Reflex Engine");var f=document.createElement("small");f.setAttribute("id","upgradesModsHelp"+a),f.classList.add("form-text"),f.classList.add("text-muted"),f.innerHTML="",x.appendChild(M),x.appendChild(g),x.appendChild(f),n.appendChild(x);var C=document.createElement("div");C.classList.add("form-group");var T=document.createElement("label");T.setAttribute("for","accessories"+a),T.innerHTML="Accessories (If Applicable)";var y=document.createElement("textarea");y.classList.add("form-control"),y.setAttribute("id","accessories"+a),y.setAttribute("name","accessories"+a),y.setAttribute("aria-describedby","accessoriesHelp"),y.setAttribute("placeholder","E.g. Barrel Bag");var H=document.createElement("small");H.setAttribute("id","accessoriesHelp"+a),H.classList.add("form-text"),H.classList.add("text-muted"),H.innerHTML="What all is included with the item(s)?",C.appendChild(T),C.appendChild(y),C.appendChild(H),n.appendChild(C);var I=document.createElement("div");I.classList.add("form-group");var P=document.createElement("label");P.setAttribute("for","pictures"+a+"[]"),P.innerHTML='Pictures <span class="text-danger" role="none">*</span>';var S=document.createElement("input");S.setAttribute("type","file"),S.setAttribute("accept","image/png, image/jpeg"),S.classList.add("form-control-file"),S.setAttribute("id","pictures"+a),S.setAttribute("name","pictures"+a+"[]"),S.setAttribute("aria-describedby","picturesHelp"),S.required=!0,S.multiple=!0;var q=document.createElement("small");q.setAttribute("id","picturesHelp"+a),q.classList.add("form-text"),q.classList.add("text-muted"),q.innerHTML=`MAX: ${maxPicturesPerItem} pictures totaling ${maxPictureSizeMB*maxPicturesPerItem} MBs.`,S.addEventListener("input",()=>{var e=S.files,t=0;Array.from(e).forEach(e=>{t+=e.size}),0!=e.length&&(e.length>maxPicturesPerItem?(q.classList.add("text-danger"),q.innerHTML="Too many pictures selected!",q.classList.remove("text-muted"),setTimeout(()=>{q.classList.add("text-muted"),q.innerHTML=`MAX: ${maxPicturesPerItem} pictures totaling ${maxPictureSizeMB*maxPicturesPerItem} MBs.`,q.classList.remove("text-danger")},errorMsgTimeout),S.value=""):t>maxPictureSizeMB*maxPicturesPerItem*1024*1024&&(q.classList.add("text-danger"),q.innerHTML="Total file size exceeded!",q.classList.remove("text-muted"),setTimeout(()=>{q.classList.add("text-muted"),q.innerHTML=`MAX: ${maxPicturesPerItem} pictures totaling ${maxPictureSizeMB*maxPicturesPerItem} MBs.`,q.classList.remove("text-danger")},errorMsgTimeout),S.value=""))}),I.appendChild(P),I.appendChild(S),I.appendChild(q),n.appendChild(I);var k=document.createElement("div");k.classList.add("form-group");var w=document.createElement("label");w.setAttribute("for","video"+a),w.innerHTML="Video";var B=document.createElement("input");B.setAttribute("type","url"),B.classList.add("form-control"),B.setAttribute("id","video"+a),B.setAttribute("name","video"+a),B.setAttribute("aria-describedby","videoHelp"),B.setAttribute("placeholder","E.g. https://youtu.be/dQw4w9WgXcQ");var z=document.createElement("small");z.setAttribute("id","videoHelp"+a),z.classList.add("form-text"),z.classList.add("text-muted"),z.innerHTML="If you have a video of your item(s) on YouTube or elsewhere you can put the URL link here.",k.appendChild(w),k.appendChild(B),k.appendChild(z),n.appendChild(k),i.appendChild(n),e.appendChild(d),e.childElementCount>minTradeItems&&(r.disabled=!1)}}),r.addEventListener("click",()=>{e.childElementCount>minTradeItems&&(e.removeChild(e.lastChild),e.childElementCount==minTradeItems&&(r.disabled=!0)),e.childElementCount<maxTradeItems&&(t.disabled=!1)}),t.dispatchEvent(new MouseEvent("click",()=>{})),document.querySelector("#tradeSubmit").addEventListener("click",t=>{if(0==e.childElementCount)return t.preventDefault(),document.querySelector("#tradeSubmit").classList.remove("btn-success"),document.querySelector("#tradeSubmit").classList.add("btn-danger"),document.querySelector("#tradeSubmit").innerHTML="Missing Trade Items",void setTimeout(()=>{document.querySelector("#tradeSubmit").classList.remove("btn-danger"),document.querySelector("#tradeSubmit").classList.add("btn-success"),document.querySelector("#tradeSubmit").innerHTML="Submit"},errorMsgTimeout);var r=document.createElement("input");r.setAttribute("type","hidden"),r.setAttribute("id","numTradeItems"),r.setAttribute("name","numTradeItems"),r.value=e.childElementCount,e.appendChild(r)})}));